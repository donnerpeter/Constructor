package cons3

/**
 * @author peter
 */
class Update {
  Map<Construction, Map<String, Object>> map

  Update(Map<Construction, Map<String, Object>> map) {
    this.map = map.asImmutable()
  }

  Update addCxt(Map newArgs, Construction name, Closure init = null) {
    if (init) {
      newArgs += [init:init]
    }
    return new Update(map + [(name):newArgs])
  }
}
