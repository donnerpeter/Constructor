package cons3

import junit.framework.TestCase

/**
 * @author peter
 */
class UtilTest extends TestCase {

  private List lcs(List l1, List l2) {
    return Util.lcs(l1, l2) { a, b -> a == b}
  }

  public void testLcsEmpty() {
    assert lcs([], []) == []
    assert lcs([1,2], []) == []
    assert lcs([], [3,4]) == []
  }

  public void testLcsEquals() {
    assert lcs([1,2], [1,2]) == [1,2]
  }

  public void testLcsInteresting() {
    assert lcs([1,2], [2,3]) == [2]
    assert lcs([1,2], [2,1]) == [1]
    assert lcs([1,2], [2,3,9]) == [2]
    assert lcs([1,2], [1,2,3,9]) == [1,2]
    assert lcs([0,1,0,0,0,0,2], [1,2,3,9]) == [1,2]
    assert lcs([0,1,0,0,0,0,2], [-1,2,3,9]) == [2]
  }

  public void testEagerLcs() {
    def src = [[1], [2], [1]]
    def result = lcs(src, [[1]])
    assert result == [[1]]
    assert !result[0].is(src[2])
    assert result[0].is(src[0])
  }

}
